<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{email/fragments/base :: head}">
    <title>Cita Rechazada</title>
</head>
<body style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333333; background-color: #f4f4f4; margin: 0; padding: 20px;">
    <div class="email-container" style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        
        <!-- Header -->
        <div style="background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%); color: #ffffff; padding: 30px 40px; text-align: center;">
            <h1 style="font-size: 24px; font-weight: 600; margin: 0 0 5px 0;">‚ùå Cita Rechazada</h1>
            <p style="font-size: 14px; opacity: 0.9; margin: 0;">Sistema de Agendamiento de Citas</p>
            <span style="display: inline-block; padding: 8px 20px; border-radius: 20px; font-weight: 600; font-size: 14px; margin-top: 15px; text-transform: uppercase; letter-spacing: 1px; background-color: rgba(255,255,255,0.2); color: #ffffff;">
                RECHAZADA
            </span>
        </div>
        
        <!-- Content -->
        <div style="padding: 40px;">
            <p style="font-size: 18px; margin-bottom: 20px; color: #2c3e50;">
                Estimado/a <strong th:text="${nombreDestinatario}">Nombre</strong>,
            </p>
            
            <p style="font-size: 15px; color: #555555; margin-bottom: 25px; line-height: 1.7;">
                Lamentamos informarle que su solicitud de cita ha sido <strong style="color: #e74c3c;">rechazada</strong>. 
                A continuaci√≥n encontrar√° los detalles de la solicitud y el motivo del rechazo.
            </p>
            
            <!-- Info Box -->
            <div style="background-color: #f8f9fa; border-left: 4px solid #e74c3c; padding: 20px; margin: 25px 0; border-radius: 0 8px 8px 0;">
                <h3 style="color: #2c3e50; font-size: 16px; margin-bottom: 15px; font-weight: 600;">üìã Detalles de la Solicitud</h3>
                <table style="width: 100%; font-size: 14px;">
                    <tr>
                        <td style="font-weight: 600; color: #7f8c8d; padding: 5px 0; width: 140px;">Tipo de Cita:</td>
                        <td style="color: #2c3e50;" th:text="${tipoCita}">Entrega</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 600; color: #7f8c8d; padding: 5px 0;">Fecha Solicitada:</td>
                        <td style="color: #2c3e50;" th:text="${fechaCita}">Lunes, 20 de enero de 2025</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 600; color: #7f8c8d; padding: 5px 0;">Hora Solicitada:</td>
                        <td style="color: #2c3e50;" th:text="${horaCita}">10:00 AM</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 600; color: #7f8c8d; padding: 5px 0;">Proveedor:</td>
                        <td style="color: #2c3e50;" th:text="${nombreProveedor}">Empresa XYZ</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 600; color: #7f8c8d; padding: 5px 0;">NIT:</td>
                        <td style="color: #2c3e50;" th:text="${nit}">123456789-0</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 600; color: #7f8c8d; padding: 5px 0;">ID de Solicitud:</td>
                        <td style="color: #2c3e50; font-family: monospace;" th:text="${citaId}">ABC123</td>
                    </tr>
                </table>
            </div>
            
            <!-- Motivo del Rechazo -->
            <div style="background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; padding: 20px; border-radius: 8px; margin: 25px 0;">
                <h4 style="font-size: 15px; margin-bottom: 10px;">üìù Motivo del Rechazo</h4>
                <p style="font-size: 14px; margin: 0;" th:text="${observaciones ?: 'No se especific√≥ un motivo.'}">Motivo del rechazo</p>
            </div>
            
            <!-- Siguiente Paso -->
            <div style="background-color: #e3f2fd; border: 1px solid #bbdefb; color: #1565c0; padding: 20px; border-radius: 8px; margin: 25px 0;">
                <h4 style="font-size: 15px; margin-bottom: 10px;">üîÑ ¬øQu√© puede hacer ahora?</h4>
                <p style="font-size: 14px; margin: 0;">
                    Le invitamos a realizar una nueva solicitud de cita seleccionando un horario diferente. 
                    Puede verificar los horarios disponibles en nuestro sistema de agendamiento.
                </p>
            </div>
            
            <div style="height: 1px; background-color: #ecf0f1; margin: 30px 0;"></div>
            
            <p style="font-size: 14px; color: #7f8c8d; text-align: center;">
                Si tiene alguna pregunta sobre el rechazo de su solicitud, por favor comun√≠quese con nuestras oficinas.
            </p>
        </div>
        
        <!-- Footer -->
        <div style="background-color: #2c3e50; color: #bdc3c7; padding: 30px 40px; text-align: center; font-size: 12px;">
            <p style="color: #ffffff; font-size: 16px; font-weight: 600; margin: 0 0 10px 0;" th:text="${nombreEmpresa}">Zona Franca</p>
            <div style="margin: 15px 0;">
                <p th:if="${telefonoEmpresa != null and !telefonoEmpresa.isEmpty()}" 
                   th:text="'üìû ' + ${telefonoEmpresa}" style="margin: 5px 0;">üìû +57 123 456 7890</p>
                <p th:if="${direccionEmpresa != null and !direccionEmpresa.isEmpty()}" 
                   th:text="'üìç ' + ${direccionEmpresa}" style="margin: 5px 0;">üìç Direcci√≥n</p>
            </div>
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #34495e; font-size: 11px; color: #95a5a6;">
                <p style="margin: 5px 0;">Este es un correo electr√≥nico generado autom√°ticamente por el sistema de agendamiento de citas.</p>
                <p style="margin: 5px 0;"><strong>Por favor, no responda a este mensaje.</strong></p>
            </div>
        </div>
    </div>
</body>
</html>
